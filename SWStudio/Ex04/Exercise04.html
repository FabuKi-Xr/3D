<!DOCTYPE html>
<html>
    <head></head>
    <body>
        <div id="maincontainer"></div>
        <script>
            const display_background = {
                color1 : "#434247",
                color2 : "#5c5a66",
                color3 : "#febc68",
                color4 : "#fcdb8c",
                color5 : "#1f9589",
                color6 : "#41c0b5",
                color7 : "#faa41b",
                color8 : "#cc222b",
            }
            const display_color = {
                color1 : "#A8E10C",
                color2 : "#8A6FDF",
                color3 : "#FF5765",
                color4 : "#FA26A0",
                color5 : "#01DEE6",
                color6 : "#3D91E0",
                color7 : "#44EE77",
                color8 : "#4DB3E4",
            }
            var maincontainer = document.getElementById("maincontainer");
            //create header 
                var newdiv = document.createElement("h1");
                newdiv.setAttribute("id", "newdiv");
                newdiv.innerHTML = "Excercise 04: JavaScript&DOM";
                newdiv.setAttribute("style", "color: black; font-size: 50px;");
                maincontainer.appendChild(newdiv);
            //create button 
                var newbutton = document.createElement("button");
                newbutton.setAttribute("id", "displaybutton");
                newbutton.innerHTML = "Click me to display Date and Time";
                newbutton.setAttribute("style", 
                    "color: black; \
                    font-size: 20px;"
                    );
                maincontainer.appendChild(newbutton);
            // button click event show update time by second
                var isDisplay = false;
                newbutton.addEventListener("click", function(){
                    if(!isDisplay){
                        isDisplay = true;
                        newbutton.setAttribute("style", 
                            "color: black; \
                            font-size: 20px;\
                            position: fixed; \
                            top: 0%; \
                            right: 0%; \
                            "
                        );
                        
                        // remove button
                        // {
                        //     let button = document.getElementById("displaybutton");
                        //     button.parentNode.removeChild(newbutton);
                        // }
                        
                        // initial display
                        {
                            var count = 1;
                            var d = new Date();
                            // datediv.innerHTML = d;
                            newbutton.innerHTML = d
                            // console.log("Enter!")
                            // maincontainer.appendChild(datediv);
                            newbutton.style.backgroundColor = display_background["color"+count.toString()];
                            newbutton.style.color = display_color["color"+count.toString()];
                        }
                        // update display
                        var myVar = setInterval(()=>{
                            count++;
                            if (count > 8){
                                count = 1;
                            }
                            var d = new Date();
                            newbutton.innerHTML = d;
                            newbutton.style.backgroundColor = display_background["color"+count.toString()];
                            newbutton.style.color = display_color["color"+count.toString()];
                        }, 1000);
                    }
                });
        </script>
    </body>
</html>